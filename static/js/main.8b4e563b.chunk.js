(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{13:function(e,t,n){e.exports={alert:"Alert_alert__czMaU",danger:"Alert_danger__32exf"}},36:function(e,t,n){},5:function(e,t,n){e.exports={actions:"Actions_actions__3dEif",btn:"Actions_btn__3XQ5S",primary:"Actions_primary__Wuij1",danger:"Actions_danger__axDil",secondary:"Actions_secondary__1rnZo",input:"Actions_input__SQ9Ze"}},6:function(e,t,n){e.exports={container:"Gif_container__lgeq3",gif:"Gif_gif__3WSSZ",someGif:"Gif_someGif__1P5Gf",groupName:"Gif_groupName__2TlTh",group:"Gif_group__3EgkX"}},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),i=n.n(a),c=n(10),o=n.n(c),u=(n(36),n(2)),s=function(e){return e.gif.isGroup},l=function(e){return e.gif.isLoading},f=function(e){return e.gif.gifs},p=function(e){return e.actions.tag},d=function(e){return e.alert.message},b=function(e){return e.alert.alertType},g=function(e){return e.alert.isVisible},j=function(e){return e.gif.isDelayMode},m=n(7),O=n.n(m),h=n(12),_=n(29),y=n(3),v={message:"",alertType:"",isVisible:!1},x=function(e){return{type:"SHOW_MESSAGE",payload:e}},G=function(){return{type:"HIDE_MESSAGE"}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_MESSAGE":return Object(y.a)(Object(y.a)({},e),{},{message:t.payload.message,alertType:t.payload.alertType,isVisible:!0});case"HIDE_MESSAGE":return Object(y.a)(Object(y.a)({},e),{},{isVisible:!1});default:return e}},E=n(27),k=n.n(E),S=function(e){return k.a.get("".concat("https://api.giphy.com/v1/gifs/random","?api_key=").concat("gTJAO48YcpmrADUyo4opy4ES4g7iDBxx","&tag=").concat(e)).then((function(e){return e.data}))},A={isLoading:!1,isGroup:!1,gifs:[],isDelayMode:!1},C=function(e){return{type:"SET_GIF",payload:e}},T=function(){return{type:"CLEAR_GIF"}},w=function(e){return{type:"CHANGE_IS_LOADING",payload:e}},I=function(e){return{type:"CHANGE_IS_GROUP",payload:e}},D=function(e){return{type:"CHANGE_IS_DELAY_MODE",payload:e}},M=function(e){return function(){var t=Object(h.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n(w(!0)),"delay"!==e){t.next=7;break}n(x({alertType:"alert",message:"\u0412\u043a\u043b\u044e\u0447\u0435\u043d Delay"})),n(D(!0)),t.next=14;break;case 7:if(e.includes(",")){t.next=12;break}return t.next=10,n(H(e));case 10:t.next=14;break;case 12:return t.next=14,n(L(e));case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),n(x({message:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 http \u043e\u0448\u0438\u0431\u043a\u0430",alertType:"error"}));case 19:return t.prev=19,n(w(!1)),t.finish(19);case 22:case"end":return t.stop()}}),t,null,[[0,16,19,22]])})));return function(e){return t.apply(this,arguments)}}()},H=function(e){return function(){var t=Object(h.a)(O.a.mark((function t(n){var r,a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S(e);case 2:(r=t.sent).data.image_url?(a={id:r.data.id,url:r.data.image_url,groupName:e,isSome:!1},n(C(a))):n(x({message:"\u041f\u043e \u0442\u0435\u0433\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",alertType:"alert"}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},L=function(e){return function(){var t=Object(h.a)(O.a.mark((function t(n){var r,a,i;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.split(","),t.next=3,Promise.all(r.map((function(e){return S(e)})));case 3:a=t.sent,a.every((function(e){return e.data.image_url}))?(i=a.reduce((function(e,t){return"string"!==typeof e.url&&e.url.push(t.data.image_url),e.id+=t.data.id,e.groupName=r.toString(),e}),{url:[],id:"",groupName:"",isSome:!0}),n(C(i))):n(x({message:"\u041f\u043e \u043e\u0434\u043d\u043e\u043c\u0443 \u0438\u0437 \u0442\u0435\u0433\u043e\u0432 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",alertType:"alert"}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GIF":return Object(y.a)(Object(y.a)({},e),{},{isLoading:!1,gifs:[t.payload].concat(Object(_.a)(e.gifs))});case"CLEAR_GIF":return Object(y.a)(Object(y.a)({},e),{},{gifs:[]});case"CHANGE_IS_GROUP":return Object(y.a)(Object(y.a)({},e),{},{isGroup:t.payload});case"CHANGE_IS_LOADING":return Object(y.a)(Object(y.a)({},e),{},{isLoading:t.payload});case"CHANGE_IS_DELAY_MODE":return Object(y.a)(Object(y.a)({},e),{},{isDelayMode:t.payload});default:return e}},q={tag:""},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TAG":return Object(y.a)(Object(y.a)({},e),{},{tag:t.payload});default:return e}},P=function(e){return{type:"SET_TAG",payload:e}},R=n(5),U=n.n(R),V=function(){var e=Object(u.c)(p),t=Object(u.c)(s),n=Object(u.c)(l),a=Object(u.b)();return Object(r.jsxs)("div",{className:U.a.actions,children:[Object(r.jsx)("input",{className:U.a.input,type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u044d\u0433",value:e,onChange:function(e){return function(e){var t=e.target.value;a(P(function(e){return e.replace(/[^A-Za-z-,]+$/,"")}(t)))}(e)}}),Object(r.jsx)("button",{className:U.a.btn+" "+U.a.primary,disabled:n,onClick:function(){a(D(!1)),e?(a(M(e)),a(P(""))):a(x({alertType:"alert",message:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 '\u0442\u0435\u0433'"}))},children:n?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"}),Object(r.jsx)("button",{className:U.a.btn+" "+U.a.danger,onClick:function(){a(D(!1)),a(P("")),a(T())},children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"}),Object(r.jsx)("button",{className:U.a.btn+" "+U.a.secondary,onClick:function(){!function(e){a(D(!1)),a(I(e))}(!t)},children:t?"\u0420\u0430\u0437\u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0413\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]})},W=n(13),Z=n.n(W),J=function(){var e=Object(u.b)(),t=Object(u.c)(d),n=Object(u.c)(b),a=Object(u.c)(g);i.a.useEffect((function(){var t=setTimeout((function(){e(G())}),3e3);return function(){clearTimeout(t)}}),[e,a]);if(!a)return null;var c="alert"===n?Z.a.alert:Z.a.alert+" "+Z.a.danger;return Object(r.jsxs)("div",{className:c,children:[Object(r.jsx)("span",{onClick:function(){e(G())},children:"\u274c"}),t]})},Y=n(30),B=n(6),Q=n.n(B),X=function(e){var t=e.onGifClick,n=e.gif;return"object"!==typeof n.url?Object(r.jsx)("div",{onClick:t,className:Q.a.gif,children:Object(r.jsx)("img",{src:n.url,alt:n.groupName})}):Object(r.jsx)("div",{className:Q.a.someGif,onClick:t,children:n.url.map((function(e){return Object(r.jsx)("img",{src:e,alt:e},e)}))})},$=function(e){var t=e.gifs,n=e.groupName,a=e.onGifClick;return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:Q.a.groupName,children:n}),Object(r.jsx)("div",{className:Q.a.group,children:t.map((function(e){return Object(r.jsx)(X,{onGifClick:function(){return a(e.groupName)},gif:e},e.id)}))})]})},K=function(){var e=i.a.useState({}),t=Object(Y.a)(e,2),n=t[0],a=t[1],c=Object(u.c)(s),o=Object(u.c)(f),l=Object(u.b)(),p=function(e){l(P(e.toString()))};return i.a.useEffect((function(){o.length&&c&&function(){var e=o.reduce((function(e,t){return e[t.groupName]||(e[t.groupName]=[]),e[t.groupName].push(t),e}),[]);a(e)}()}),[o,c]),o.length?Object(r.jsx)("div",{children:c?Object(r.jsx)("div",{children:Object.keys(n).map((function(e,t){return Object(r.jsx)($,{onGifClick:p,gifs:n[e],groupName:e},t)}))}):Object(r.jsx)("div",{className:Q.a.container,children:o.map((function(e){return Object(r.jsx)(X,{onGifClick:function(){return p(e.groupName)},gif:e},e.id)}))})}):Object(r.jsx)("p",{children:"\u0423 \u0432\u0430\u0441 \u0435\u0449\u0435 \u043d\u0435\u0442 \u0433\u0438\u0444\u043e\u043a"})},ee=(n(62),function(){var e=Object(u.b)(),t=Object(u.c)(j);return i.a.useEffect((function(){var n;return t&&(n=setInterval((function(){var t=function(){var e=["canal","heartless","demonic","hone","lovingly","bearer","asthma","guise","jasmine","veronica","regent","decorator","loaf","talented","burned","sax","modernist","dark","remain","may","ore","sniff","strainer","womanhood","feared","shop","opaque","wobbly","turquoise","ravine","plumb","subsidize","facade","tantalize","sensory","threat","theme","infected","craving","final","i","buzz","discover","quarter","air","karaoke","rigor","alexis","wand","editing","lowland","seed","brazilian","rifle","historian","prescient","edith","immunize","thrift","secretive","inert","edge","breezy","tall","aphid","corner","nylon","wake","up","badge","lore","hack","tiger","cohort","elsewhere","retention","condo","terminal","plenty","dusty","detour","loin","opposite","abroad","castle","seclusion","overlook","benign","clinic","flashing","perk","cuisine","shelter","grit","haven","grope","turret","man","graphite","elephant"];return e[Math.floor(Math.random()*e.length)]}();e(M(t))}),5e3)),function(){clearInterval(n)}}),[t,e]),Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(V,{}),Object(r.jsx)(K,{}),Object(r.jsx)(J,{})]})}),te=n(8),ne=n(28),re=Object(te.c)({gif:z,alert:N,actions:F}),ae=Object(te.d)(re,Object(te.a)(ne.a));o.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(u.a,{store:ae,children:Object(r.jsx)(ee,{})})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.8b4e563b.chunk.js.map